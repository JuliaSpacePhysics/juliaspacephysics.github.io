[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "JuliaSpacePhysics.github.io",
    "section": "",
    "text": "A landing page for JuliaSpacePhysics.\nCheck out a curated list of packages in the JuliaSpacePhysics ecosystem (and beyond) on the Ecosystem page.\n\n\n\n Back to top"
  },
  {
    "objectID": "tutorials/mms_e_mr/index.html",
    "href": "tutorials/mms_e_mr/index.html",
    "title": "MMS Science event",
    "section": "",
    "text": "Obtain and analyze plasma data, including spectra, for the first MMS Science event (Burch et al., Science 2016, link here) showing magnetopause reconnection at the electron diffusion region on 2016/10/16 13:07:02.2 UT. Start by using Hwk06_mpause_RX.pro, provided. The objective of this exercise is to introduce plasma distributions from MMS (electrons and ions) and create burst spectra. In the process also create plasma moments and the plasma current and plot these along E and B. You are requested to create Figure 2 of Burch et al. plus the 3 bottom (electron) spectrograms from Figure 3 of the same paper (panels 3G, 3H and 3I). Your figure should look like the one shown on the next page, but using burst mode data in order to make it look like in Burch et al. You are requested to plot this figure at 2 time scales: the overview (2 min) timescale as in Fig. 2 of Burch et al. [‘13:05:30’,’13:07:30’] and the zoom-in (3 sec) timescale as in Fig. 3 of Burch et al. [‘13:07:00.5’,‘13:07:03.5’]. Notice that the clean and fast m’pause crossing was at 13:05:40UT, and this is used to determine N. In Fig. 2K of Burch et al. (the right-hand side of Fig. 2, the pictorial view of the MMS trajectory for the 2min interval) this initial m’pause crossing was near the start of the trajectory. The trajectory crosses the X-point at the 3 seconds of the zoom-in interval.\nusing Speasy\nusing DimensionalData\nusing SPEDAS\nusing SPEDAS.MMS\nusing CairoMakie, SpacePhysicsMakie\nusing Unitful\n\nupdate_theme!(colormap=:rainbow1)\nSpacePhysicsMakie.DEFAULTS.add_title = true;\n\n\n    CondaPkg Found dependencies: /home/runner/.julia/packages/DimensionalData/48C1z/CondaPkg.toml\n    CondaPkg Found dependencies: /home/runner/.julia/packages/Speasy/0vfR0/CondaPkg.toml\n    CondaPkg Found dependencies: /home/runner/.julia/packages/PythonCall/IOKTD/CondaPkg.toml\n    CondaPkg Initialising pixi\n             │ /home/runner/.julia/artifacts/cefba4912c2b400756d043a2563ef77a0088866b/bin/pixi\n             │ init\n             │ --format pixi\n             └ /home/runner/work/juliaspacephysics.github.io/juliaspacephysics.github.io/.CondaPkg\n✔ Created /home/runner/work/juliaspacephysics.github.io/juliaspacephysics.github.io/.CondaPkg/pixi.toml\n    CondaPkg Wrote /home/runner/work/juliaspacephysics.github.io/juliaspacephysics.github.io/.CondaPkg/pixi.toml\n             │ [dependencies]\n             │ openssl = \"&gt;=3, &lt;3.6, &gt;=3, &lt;3.6\"\n             │ libstdcxx = \"&gt;=3.4,&lt;15.0\"\n             │ uv = \"&gt;=0.4\"\n             │ libstdcxx-ng = \"&gt;=3.4,&lt;15.0\"\n             │ xarray = \"*\"\n             │ sqlite = \"!=3.49.1\"\n             │ numpy = \"*\"\n             │ \n             │     [dependencies.python]\n             │     channel = \"conda-forge\"\n             │     build = \"*cp*\"\n             │     version = \"&gt;=3.9,&lt;4\"\n             │ \n             │ [project]\n             │ name = \".CondaPkg\"\n             │ platforms = [\"linux-64\"]\n             │ channels = [\"conda-forge\"]\n             │ channel-priority = \"strict\"\n             │ description = \"automatically generated by CondaPkg.jl\"\n             │ \n             │ [pypi-dependencies.speasy]\n             └ git = \"https://github.com/SciQLop/speasy\"\n    CondaPkg Installing packages\n             │ /home/runner/.julia/artifacts/cefba4912c2b400756d043a2563ef77a0088866b/bin/pixi\n             │ install\n             └ --manifest-path /home/runner/work/juliaspacephysics.github.io/juliaspacephysics.github.io/.CondaPkg/pixi.toml\n✔ The default environment has been installed.\nNon compliant ISTP file: Epoch was marked as data variable but it has 0 support variable\nNon compliant ISTP file: No data variable found, this is suspicious\nNon compliant ISTP file: No data variable found, this is suspicious\nNon compliant ISTP file: No data variable found, this is suspicious\nNon compliant ISTP file: No data variable found, this is suspicious\nNon compliant ISTP file: No data variable found, this is suspicious"
  },
  {
    "objectID": "tutorials/mms_e_mr/index.html#overview-plot",
    "href": "tutorials/mms_e_mr/index.html#overview-plot",
    "title": "MMS Science event",
    "section": "Overview plot",
    "text": "Overview plot\n\nMinimum Variance Analysis\n\ntrange = (\"2015-10-16T13:05:35\", \"2015-10-16T13:07:25\")\ntr_mpause = (\"2015-10-16T13:05:40\", \"2015-10-16T13:06:09\")\n\nprobe = 2\n\ntvars = (\n    \"cda/MMS2_FGM_SRVY_L2/mms2_fgm_b_gse_srvy_l2_clean\",\n    \"cda/MMS2_EDP_FAST_L2_DCE/mms2_edp_dce_gse_fast_l2\",\n)\nB_gse, edp_dce_gse = get_data(tvars, trange) .|&gt; DimArray\nrotMat = mva_eigen(tview(B_gse[:, 1:3], tr_mpause))\nB_LMN = rotate(B_gse[:, 1:3], rotMat) |&gt; set_coord(\"LMN\") |&gt; set_coord(\"Boundary-normal coordinates\"; old_coords=[\"Geocentric Solar Ecliptic\"])\nE_LMN = rotate(edp_dce_gse, rotMat) |&gt; set_coord(\"LMN\")\n\nrotMat\n\nCan't get MMS2_FGM_SRVY_L2/mms2_fgm_b_gse_srvy_l2_clean without web service, switching to web service\n\n\nLinearAlgebra.Eigen{Float32, Float32, StaticArraysCore.SMatrix{3, 3, Float32, 9}, StaticArraysCore.SVector{3, Float32}}\nvalues:\n3-element StaticArraysCore.SVector{3, Float32} with indices SOneTo(3):\n 501.50867\n  32.284077\n  13.253269\nvectors:\n3×3 StaticArraysCore.SMatrix{3, 3, Float32, 9} with indices SOneTo(3)×SOneTo(3):\n  0.368873   0.571601   0.732943\n -0.122903  -0.751632   0.648031\n  0.921318  -0.329122  -0.207006\n\n\nThe direction obtained from the Minimum Variance Analysis (MVA) in our study closely aligns with the direction reported in the literature.\n\nThe (x, y, z) GSE components of the L, M, and N axes are L = (0.3665, –0.1201, 0.9226) GSE, M = (0.5694, –0.7553, –0.3245) GSE, and N = (0.7358, 0.6443, –0.2084) GSE\n\n\n\nPlasma data\n\ndata_rate = \"brst\"\nfpi_des_ds = FPIDataSet(; probe, data_rate, data_type=\"des\")\nfpi_dis_ds = FPIDataSet(; probe, data_rate, data_type=\"dis\")\n\nf = x -&gt; DimArray(x; add_unit=true)\ndes_data = map(f, get_data(NamedTuple, fpi_des_ds, trange))\ndis_data = map(f, get_data(NamedTuple, fpi_dis_ds, trange))\n\ndes_n = setmeta(des_data.numberdensity[:, 1], labels=\"Ne\")\ndis_bulkv_lmn = rotate(dis_data.bulkv_gse, rotMat) |&gt; set_coord(\"LMN\")\ndes_bulkv_lmn = rotate(des_data.bulkv_gse, rotMat) |&gt; set_coord(\"LMN\")\ndis_n = setmeta(dis_data.numberdensity[:, 1], labels=\"Ni\")\n\n\n┌ 733-element DimArray{Unitful.Quantity{Float32, 𝐋^-3, Unitful.FreeUnits{(cm^-3,), 𝐋^-3, nothing}}, 1} mms2_dis_numberdensity_brst ┐\n├──────────────────────────────────────────────────────────────────────── dims ┤\n  ↓ Ti Sampled{Dates.DateTime} [Dates.DateTime(\"2015-10-16T13:05:35.144\"), …, Dates.DateTime(\"2015-10-16T13:07:24.946\")] ForwardOrdered Irregular Points\n├──────────────────────────────────────────────────────────────────── metadata ┤\n  Dict{Any, Any} with 16 entries:\n  \"FILLVAL\"         =&gt; Any[-1.0e31]\n  \"FIELDNAM\"        =&gt; \"MMS2 FPI/DIS number density\"\n  \"SI_CONVERSION\"   =&gt; \"1e6&gt;m^-3\"\n  \"VALIDMAX\"        =&gt; Any[100000.0]\n  \"DELTA_MINUS_VAR\" =&gt; \"mms2_dis_numberdensity_err_brst\"\n  :labels           =&gt; \"Ni\"\n  \"CATDESC\"         =&gt; \"MMS2 FPI/DIS ion number density during this burst\"\n  \"DELTA_PLUS_VAR\"  =&gt; \"mms2_dis_numberdensity_err_brst\"\n  \"DISPLAY_TYPE\"    =&gt; \"time_series\"\n  \"VALIDMIN\"        =&gt; Any[0.001]\n  \"UNITS\"           =&gt; \"cm^-3\"\n  \"SCALETYP\"        =&gt; \"linear\"\n  \"DEPEND_0\"        =&gt; \"Epoch\"\n  \"FORMAT\"          =&gt; \"E12.2\"\n  \"VAR_TYPE\"        =&gt; \"data\"\n  \"LABLAXIS\"        =&gt; \"N\"\n└──────────────────────────────────────────────────────────────────────────────┘\n ⋮      ⋱  \n\n\n\n\n\nMagnitudes of electron and ion convection velocities\n\nVi_perp_mag, Ve_perp_mag = let Vi = dis_data.bulkv_gse, Ve = des_data.bulkv_gse, B = B_gse\n    tr = timerange(B)\n    Vi_clip = tview(Vi, tr)\n    Ve_clip = tview(Ve, tr)\n\n    B_int_Vi = tinterp(B, Vi_clip)[:, 1:3]\n    B_int_Ve = tinterp(B, Ve_clip)[:, 1:3]\n    Vi_perp_mag = toproj(Vi_clip, B_int_Vi) |&gt; tnorm\n    Ve_perp_mag = toproj(Ve_clip, B_int_Ve) |&gt; tnorm\n\n    setmeta(Vi_perp_mag, labels=\"Viper_t\"), setmeta(Ve_perp_mag, labels=\"Veper_t\")\nend\n\n(Quantity{Float32, 𝐋 𝐓^-1, Unitful.FreeUnits{(km, s^-1), 𝐋 𝐓^-1, nothing}}[16.370153f0 km s^-1, 39.0851f0 km s^-1, 18.778028f0 km s^-1, 36.386776f0 km s^-1, 28.834644f0 km s^-1, 31.232695f0 km s^-1, 21.860323f0 km s^-1, 25.041765f0 km s^-1, 19.903934f0 km s^-1, 3.4643996f0 km s^-1  …  54.849365f0 km s^-1, 52.696617f0 km s^-1, 43.563725f0 km s^-1, 37.47798f0 km s^-1, 32.163044f0 km s^-1, 29.341612f0 km s^-1, 22.57187f0 km s^-1, 23.173405f0 km s^-1, 26.802206f0 km s^-1, 33.881535f0 km s^-1], Quantity{Float32, 𝐋 𝐓^-1, Unitful.FreeUnits{(km, s^-1), 𝐋 𝐓^-1, nothing}}[179.42719f0 km s^-1, 65.01958f0 km s^-1, 95.88342f0 km s^-1, 80.233765f0 km s^-1, 31.386799f0 km s^-1, 176.10384f0 km s^-1, 21.706089f0 km s^-1, 53.19559f0 km s^-1, 126.49095f0 km s^-1, 102.78032f0 km s^-1  …  42.938835f0 km s^-1, 72.569305f0 km s^-1, 39.36957f0 km s^-1, 40.91847f0 km s^-1, 34.356808f0 km s^-1, 35.267933f0 km s^-1, 31.92348f0 km s^-1, 45.79629f0 km s^-1, 69.9509f0 km s^-1, 93.33416f0 km s^-1])\n\n\n\n\nCurrent density\n\nJ = begin\n    Vi = dis_bulkv_lmn\n    Ve = des_bulkv_lmn\n    n = dis_n\n    Ve_clip = tclip(Ve, timerange(Vi))\n    Vi_interp = tinterp(Vi, Ve_clip)\n    n_interp = tinterp(n, Ve_clip)\n    J = mapslices(Vi_interp - Ve_clip; dims=Ti) do V_diff_i\n        @. Unitful.q * V_diff_i * n_interp |&gt; u\"μA*m^-2\"\n    end\n    setmeta(J, labels=[\"j_L\", \"j_M\", \"j_N\"])\nend\n\n\n┌ 3661×3 DimArray{Unitful.Quantity{Float64, 𝐈 𝐋^-2, Unitful.FreeUnits{(μA, m^-2), 𝐈 𝐋^-2, nothing}}, 2} ┐\n├──────────────────────────────────────────────────────────────────────── dims ┤\n  ↓ Ti Sampled{Dates.DateTime} [Dates.DateTime(\"2015-10-16T13:05:35.144\"), …, Dates.DateTime(\"2015-10-16T13:07:24.946\")] ForwardOrdered Irregular Points,\n  → AnonDim Sampled{Int64} [1, …, 3] ForwardOrdered Irregular Points\n├──────────────────────────────────────────────────────────────────── metadata ┤\n  Dict{Any, Any} with 19 entries:\n  \"FILLVAL\"           =&gt; Any[-1.0e31]\n  \"FIELDNAM\"          =&gt; \"MMS2 FPI/DIS LMN bulk v\"\n  \"SI_CONVERSION\"     =&gt; \"1.0e3&gt;m s^-1\"\n  \"VALIDMAX\"          =&gt; Any[110000.0]\n  \"TENSOR_ORDER\"      =&gt; Any[1]\n  \"DELTA_MINUS_VAR\"   =&gt; \"mms2_dis_bulkv_err_brst\"\n  :labels             =&gt; [\"j_L\", \"j_M\", \"j_N\"]\n  \"CATDESC\"           =&gt; \"MMS2 FPI/DIS ion bulk-velocity LMN vector during this…\n  \"DELTA_PLUS_VAR\"    =&gt; \"mms2_dis_bulkv_err_brst\"\n  \"DISPLAY_TYPE\"      =&gt; \"time_series\"\n  \"VALIDMIN\"          =&gt; Any[-110000.0]\n  \"REPRESENTATION_1\"  =&gt; \"mms2_dis_cartrep_brst\"\n  \"UNITS\"             =&gt; \"km/s\"\n  \"SCALETYP\"          =&gt; \"linear\"\n  \"DEPEND_0\"          =&gt; \"Epoch\"\n  \"LABL_PTR_1\"        =&gt; [\"Vx_LMN\", \"Vy_LMN\", \"Vz_LMN\"]\n  \"COORDINATE_SYSTEM\" =&gt; \"LMN\"\n  \"FORMAT\"            =&gt; \"E12.2\"\n  \"VAR_TYPE\"          =&gt; \"data\"\n└──────────────────────────────────────────────────────────────────────────────┘\n ⋮      ⋱  \n\n\n\n\n\nPara, perp and anti-parallel spectra of electrons\n\ndes_energyspectr_tvars = [\n    \"cda/MMS2_FPI_BRST_L2_DES-MOMS/mms$(probe)_des_energyspectr_par_$(data_rate)\",\n    \"cda/MMS2_FPI_BRST_L2_DES-MOMS/mms$(probe)_des_energyspectr_perp_$(data_rate)\",\n    \"cda/MMS2_FPI_BRST_L2_DES-MOMS/mms$(probe)_des_energyspectr_anti_$(data_rate)\"\n]\n\ndes_energyspectr = get_data(des_energyspectr_tvars, trange) .|&gt; DimArray\nreplace!.(des_energyspectr, 0 =&gt; NaN)\ndes_energyspectr_ratio = des_energyspectr[1] ./ des_energyspectr[2]\ndes_energyspectr = setmeta.(des_energyspectr, colorrange=(1e5, 1e9))\ndes_energyspectr_ratio = setmeta(des_energyspectr_ratio,\n    colorrange=(1e-1, 1e1), title=\"Ratio (Para/Perp)\"\n)\n\n\n┌ 3666×32 DimArray{Float32, 2} ┐\n├──────────────────────────────┴───────────────────────────────────────── dims ┐\n  ↓ Ti Sampled{Dates.DateTime} [Dates.DateTime(\"2015-10-16T13:05:35.024\"), …, Dates.DateTime(\"2015-10-16T13:07:24.976\")] ForwardOrdered Irregular Points,\n  → Y Sampled{Int64} 1:32 ForwardOrdered Regular Points\n├──────────────────────────────────────────────────────────────────── metadata ┤\n  Dict{Any, Any} with 15 entries:\n  \"FILLVAL\"      =&gt; Any[-1.0e31]\n  \"FIELDNAM\"     =&gt; \"MMS2 FPI/DES energySpectr_par\"\n  \"VALIDMAX\"     =&gt; Any[1.0e30]\n  \"DEPEND_1\"     =&gt; mms2_des_energy_brst [ Units: eV, Size: (3666, 32)]\n  \"CATDESC\"      =&gt; \"MMS2 FPI/DES electron energy parallel spectrum 30 degrees …\n  :title         =&gt; \"Ratio (Para/Perp)\"\n  \"DISPLAY_TYPE\" =&gt; \"spectrogram\"\n  \"VALIDMIN\"     =&gt; Any[-1.0e30]\n  \"VAR_NOTES\"    =&gt; \"Counts, summed within 30 degrees parallel bentPipe magneti…\n  \"SCALETYP\"     =&gt; \"log\"\n  \"DEPEND_0\"     =&gt; \"Epoch\"\n  :colorrange    =&gt; (0.1, 10.0)\n  \"FORMAT\"       =&gt; \"E12.2\"\n  \"VAR_TYPE\"     =&gt; \"data\"\n  \"LABLAXIS\"     =&gt; \"FPI1/DES EnSpectr, Parallel\"\n└──────────────────────────────────────────────────────────────────────────────┘\n ⋮      ⋱  \n\n\n\n\n\nSummary data plot\n\nIn 1 paragraph (10 lines) explain what each panel represents for this reconnection interval.\n\nFrom top to bottom, the panels represent the following: 1. the magnetic field vectors in LMN coordinate system; 2. energy times spectrogram of ion energy flux; 3. energy times spectrogram of electron energy flux; 4. plasma density (ion and electron); 5. ion flow velocity vectors in LMN coordinate system; 6. magnitudes of electron and ion convection velocities; 7. current density; 8. electron parallel and perpendicular temperatures; 9. electric field vectors in LMN coordinate system; 10-12. electron spectrograms (parallel, perpendicular, anti-parallel); 13. electron spectrogram ratio (para/perp).\n\ntvars2plot = (\n    B_LMN,\n    [dis_n, des_n],\n    setmeta(dis_data.energyspectr_omni, colorrange=(1e3, 1e9)),\n    setmeta(des_data.energyspectr_omni, colorrange=(1e3, 1e9)),\n    dis_bulkv_lmn,\n    [Vi_perp_mag, Ve_perp_mag],\n    E_LMN,\n    des_energyspectr...,\n    des_energyspectr_ratio\n)\nfaxes = tplot(tvars2plot)\ntlines!(faxes, \"2015-10-16T13:05:52\")\ntlines!(faxes, [\"2015-10-16T13:05:44\", \"2015-10-16T13:06:00\"])\ntlines!(faxes, [\"2015-10-16T13:06:46\", \"2015-10-16T13:07:12\"])\nylims!.(faxes.axes[end-3:end], 0.9e1, 1.2e3)\nfaxes\n\n\n┌ Warning: y values are not constant along time\n└ @ SpacePhysicsMakie ~/.julia/packages/SpacePhysicsMakie/Os7PA/src/attributes.jl:25\n┌ Warning: y values are not constant along time\n└ @ SpacePhysicsMakie ~/.julia/packages/SpacePhysicsMakie/Os7PA/src/attributes.jl:25\n┌ Warning: y values are not constant along time\n└ @ SpacePhysicsMakie ~/.julia/packages/SpacePhysicsMakie/Os7PA/src/attributes.jl:25\n┌ Warning: y values are not constant along time\n└ @ SpacePhysicsMakie ~/.julia/packages/SpacePhysicsMakie/Os7PA/src/attributes.jl:25\n┌ Warning: y values are not constant along time\n└ @ SpacePhysicsMakie ~/.julia/packages/SpacePhysicsMakie/Os7PA/src/attributes.jl:25\n┌ Warning: y values are not constant along time\n└ @ SpacePhysicsMakie ~/.julia/packages/SpacePhysicsMakie/Os7PA/src/attributes.jl:25"
  },
  {
    "objectID": "tutorials/mms_e_mr/index.html#reproducibility",
    "href": "tutorials/mms_e_mr/index.html#reproducibility",
    "title": "MMS Science event",
    "section": "Reproducibility",
    "text": "Reproducibility\n@raw html &lt;details&gt;&lt;summary&gt;This tutorial was built using these direct dependencies,&lt;/summary&gt;\nusing Pkg # hide\nPkg.status() # hide\n@raw html &lt;/details&gt;\n@raw html &lt;details&gt;&lt;summary&gt;and using this machine and Julia version.&lt;/summary&gt;\nusing InteractiveUtils # hide\nversioninfo() # hide\n@raw html &lt;/details&gt;"
  },
  {
    "objectID": "tutorials/index.html",
    "href": "tutorials/index.html",
    "title": "Tutorials",
    "section": "",
    "text": "We are gradually developing tutorials for the JuliaSpacePhysics ecosystem.\nYou can begin with the Getting Started guide for SPEDAS.jl, which introduces the basics of using SPEDAS.jl.\nAdditional tutorials include:\n\nMMS observations of electron-scale measurements of magnetic reconnection\n\n\n\n\n Back to top"
  }
]